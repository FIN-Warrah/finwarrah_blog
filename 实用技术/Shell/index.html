
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.5.2">
    
    
      
        <title>Shell - FIN-Warrah's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9f9400aa.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-shell" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="FIN-Warrah&#39;s Blog" class="md-header__button md-logo" aria-label="FIN-Warrah's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FIN-Warrah's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Shell
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/FIN-Warrah/finwarrah_blog/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    FIN-Warrah's Blog
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="FIN-Warrah&#39;s Blog" class="md-nav__button md-logo" aria-label="FIN-Warrah's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    FIN-Warrah's Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/FIN-Warrah/finwarrah_blog/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    FIN-Warrah's Blog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          计算机图形学
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="计算机图形学" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          计算机图形学
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%9C%AA%E5%AE%8C%E6%88%90/" class="md-nav__link">
        opengl
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          LeetCode
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="LeetCode" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          LeetCode
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../LeetCode/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        学习计划-数据结构
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          实用技术
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="实用技术" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          实用技术
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          Git 与 GitHub
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Git 与 GitHub" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Git 与 GitHub
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Git%E4%B8%8EGitHub/1_%E4%B8%8A%E4%BC%A0%E6%AD%A4%E5%8D%9A%E5%AE%A2%E5%88%B0GitHub/" class="md-nav__link">
        1 上传此博客到 GitHub
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Shell
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Shell
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-shell" class="md-nav__link">
    1 Shell 简介
  </a>
  
    <nav class="md-nav" aria-label="1 Shell 简介">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-shell" class="md-nav__link">
    1.1 为什么学习 Shell
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-shell" class="md-nav__link">
    1.2 不同平台上有多种 Shell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-shell" class="md-nav__link">
    2 初识 Shell
  </a>
  
    <nav class="md-nav" aria-label="2 初识 Shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-shell-bash-ubuntu" class="md-nav__link">
    2.1 Shell 界面 —— 以 bash 为例（操作系统为 Ubuntu）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    2.2 一些简单的命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    2.3 环境变量与路径
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    2.4 文件系统
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    2.5 命令的选项
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26" class="md-nav__link">
    2.6 目录/文件操作
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27" class="md-nav__link">
    2.7 查看手册
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28" class="md-nav__link">
    2.8 通配符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#29" class="md-nav__link">
    2.9 文本过滤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#210" class="md-nav__link">
    2.10 命令管理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-stream" class="md-nav__link">
    3 流（stream）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-root" class="md-nav__link">
    4 root
  </a>
  
    <nav class="md-nav" aria-label="4 root">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-root" class="md-nav__link">
    4.1 以 root 权限执行命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-root" class="md-nav__link">
    4.2 切换到 root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-root" class="md-nav__link">
    4.3 不切换到 root 也可以修改没有权限的文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-sys" class="md-nav__link">
    4.4 /sys 目录
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-shell" class="md-nav__link">
    5 使用 Shell 编写脚本
  </a>
  
    <nav class="md-nav" aria-label="5 使用 Shell 编写脚本">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    5.1 变量的定义、赋值与访问
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    5.2 单引号与双引号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    5.3 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54" class="md-nav__link">
    5.4 一些关键字
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55" class="md-nav__link">
    5.5 逻辑运算符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56" class="md-nav__link">
    5.6 获取命令的输出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-shell" class="md-nav__link">
    5.7 一个简单的 Shell 脚本
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-shell" class="md-nav__link">
    6 Shell 的调试
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7 其他脚本
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-data-wrangling" class="md-nav__link">
    8 数据整理（Data wrangling）
  </a>
  
    <nav class="md-nav" aria-label="8 数据整理（Data wrangling）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81" class="md-nav__link">
    8.1 对命令的输出进行筛选
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82" class="md-nav__link">
    8.2 对流的内容进行替换、统计、筛选与处理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83" class="md-nav__link">
    8.3 二进制文件处理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    9 工具推荐
  </a>
  
    <nav class="md-nav" aria-label="9 工具推荐">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-ripgrep" class="md-nav__link">
    9.1 ripgrep 示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-fzf" class="md-nav__link">
    9.2 fzf 示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-tree" class="md-nav__link">
    9.3 tree 示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    参考
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%8E%AF%E5%A2%83/" class="md-nav__link">
        命令行环境
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Vim/" class="md-nav__link">
        Vim
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        实用工具
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          深度学习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="深度学习" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          深度学习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%9C%AA%E5%AE%8C%E6%88%90/" class="md-nav__link">
        计算机视觉
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%9C%AA%E5%AE%8C%E6%88%90/" class="md-nav__link">
        自然语言处理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%9C%AA%E5%AE%8C%E6%88%90/" class="md-nav__link">
        异常检测
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-shell" class="md-nav__link">
    1 Shell 简介
  </a>
  
    <nav class="md-nav" aria-label="1 Shell 简介">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-shell" class="md-nav__link">
    1.1 为什么学习 Shell
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-shell" class="md-nav__link">
    1.2 不同平台上有多种 Shell
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-shell" class="md-nav__link">
    2 初识 Shell
  </a>
  
    <nav class="md-nav" aria-label="2 初识 Shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-shell-bash-ubuntu" class="md-nav__link">
    2.1 Shell 界面 —— 以 bash 为例（操作系统为 Ubuntu）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    2.2 一些简单的命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    2.3 环境变量与路径
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    2.4 文件系统
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    2.5 命令的选项
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26" class="md-nav__link">
    2.6 目录/文件操作
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27" class="md-nav__link">
    2.7 查看手册
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28" class="md-nav__link">
    2.8 通配符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#29" class="md-nav__link">
    2.9 文本过滤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#210" class="md-nav__link">
    2.10 命令管理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-stream" class="md-nav__link">
    3 流（stream）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-root" class="md-nav__link">
    4 root
  </a>
  
    <nav class="md-nav" aria-label="4 root">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-root" class="md-nav__link">
    4.1 以 root 权限执行命令
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-root" class="md-nav__link">
    4.2 切换到 root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-root" class="md-nav__link">
    4.3 不切换到 root 也可以修改没有权限的文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-sys" class="md-nav__link">
    4.4 /sys 目录
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-shell" class="md-nav__link">
    5 使用 Shell 编写脚本
  </a>
  
    <nav class="md-nav" aria-label="5 使用 Shell 编写脚本">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    5.1 变量的定义、赋值与访问
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    5.2 单引号与双引号
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    5.3 函数
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54" class="md-nav__link">
    5.4 一些关键字
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55" class="md-nav__link">
    5.5 逻辑运算符
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56" class="md-nav__link">
    5.6 获取命令的输出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-shell" class="md-nav__link">
    5.7 一个简单的 Shell 脚本
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-shell" class="md-nav__link">
    6 Shell 的调试
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    7 其他脚本
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-data-wrangling" class="md-nav__link">
    8 数据整理（Data wrangling）
  </a>
  
    <nav class="md-nav" aria-label="8 数据整理（Data wrangling）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81" class="md-nav__link">
    8.1 对命令的输出进行筛选
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82" class="md-nav__link">
    8.2 对流的内容进行替换、统计、筛选与处理
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83" class="md-nav__link">
    8.3 二进制文件处理
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    9 工具推荐
  </a>
  
    <nav class="md-nav" aria-label="9 工具推荐">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-ripgrep" class="md-nav__link">
    9.1 ripgrep 示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-fzf" class="md-nav__link">
    9.2 fzf 示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-tree" class="md-nav__link">
    9.3 tree 示例
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    参考
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/FIN-Warrah/finwarrah_blog/edit/master/docs/实用技术/Shell.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>Shell</h1>

<h2 id="1-shell">1 Shell 简介</h2>
<h4 id="11-shell">1.1 为什么学习 Shell</h4>
<p>编程人员可以通过 Shell 向计算机发送指令，以及实现自动化。</p>
<h2 id="12-shell">1.2 不同平台上有多种 Shell</h2>
<ul>
<li>Windows: PowerShell</li>
<li>Linux: bash</li>
<li>Mac OS: zsh</li>
</ul>
<h2 id="2-shell">2 初识 Shell</h2>
<h4 id="21-shell-bash-ubuntu">2.1 Shell 界面 —— 以 bash 为例（操作系统为 Ubuntu）</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>username@ubuntu:~$
</code></pre></div>
<h4 id="22">2.2 一些简单的命令</h4>
<p>显示当前时间
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>username@ubuntu:~$ date
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>Wed <span class="m">19</span> Oct <span class="m">2022</span> <span class="m">09</span>:59:55 PM CST
</code></pre></div></p>
<p>打印特定内容。其中，<code>echo</code> 是命令，后面的是参数。
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;the content you want to print&quot;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>the content you want to print
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s1">&#39;the content you want to print&#39;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>the content you want to print
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>username@ubuntu:~$ <span class="nb">echo</span> the<span class="se">\ </span>content<span class="se">\ </span>you<span class="se">\ </span>want<span class="se">\ </span>to<span class="se">\ </span>print
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>the content you want to print
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>username@ubuntu:~$ <span class="nb">echo</span> the content you want to print
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>the content you want to print
</code></pre></div></p>
<h4 id="23">2.3 环境变量与路径</h4>
<p>打印 <code>PATH</code> 环境变量（一个列表，其中的元素以 <code>:</code> 分隔）。这些 <code>PATH</code> 环境变量用于 Shell 搜索程序豁文件
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="nv">$PATH</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
</code></pre></div></p>
<p>通过 <code>which</code> 命令，可以找到指定程序的绝对路径（执行的实际是哪个文件）
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>username@ubuntu:~$ which <span class="nb">echo</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>/usr/bin/echo
</code></pre></div></p>
<p>通过 <code>pwd</code> 获取当前工作路径（present working directory）
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>username@ubuntu:~$ <span class="nb">pwd</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>/home/username
</code></pre></div></p>
<p>通过 <code>cd</code> 切换路径
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>username@ubuntu:~$ <span class="nb">cd</span> /home
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>username@ubuntu:/home$ <span class="nb">pwd</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>/home
</code></pre></div></p>
<p>当前路径：<code>.</code>，父目录：<code>..</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>username@ubuntu:/home$ <span class="nb">pwd</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>/home
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>username@ubuntu:/home$ <span class="nb">cd</span> .
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>username@ubuntu:/home$ <span class="nb">pwd</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>/home
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>username@ubuntu:/home$ <span class="nb">cd</span> ..
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>username@ubuntu:/$ <span class="nb">pwd</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>/
</code></pre></div></p>
<p>可以通过相对路径或绝对路径的方式切换路径
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>username@ubuntu:/$ <span class="nb">cd</span> ./home
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>username@ubuntu:/home$ <span class="nb">pwd</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>/home
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>username@ubuntu:/home$ <span class="nb">cd</span> username/
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>username@ubuntu:~$ <span class="nb">pwd</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>/home/username
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>username@ubuntu:~$ <span class="nb">cd</span> /home
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>username@ubuntu:/home$ <span class="nb">pwd</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>/home
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>username@ubuntu:/home$ <span class="nb">cd</span> username
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>username@ubuntu:~$ <span class="nb">pwd</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>/home/username
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>username@ubuntu:~$ <span class="nb">cd</span> ../../
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>username@ubuntu:/$ <span class="nb">pwd</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>/
</code></pre></div></p>
<p>如果写了太多 <code>../</code>，不会报错，会回到根目录
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>username@ubuntu:/$ <span class="nb">cd</span> ../../../
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>username@ubuntu:/$ <span class="nb">pwd</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>/
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>username@ubuntu:/$ <span class="nb">cd</span> ../../../home
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>username@ubuntu:/home$ <span class="nb">pwd</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>/home
</code></pre></div></p>
<p>通过相对路径或绝对路径执行程序
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>username@ubuntu:/home$ ../../../bin/echo <span class="s2">&quot;the content you want to print&quot;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>the content you want to print
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>username@ubuntu:/home$ /bin/echo <span class="s2">&quot;the content you want to print&quot;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>the content you want to print
</code></pre></div></p>
<p>参数 <code>~</code> 表示当前用户的 home
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>username@ubuntu:/home$ <span class="nb">cd</span> ~
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>username@ubuntu:~$ <span class="nb">pwd</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>/home/username
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>username@ubuntu:~$ <span class="nb">cd</span> ~/Desktop/
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>username@ubuntu:~/Desktop$ <span class="nb">pwd</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>/home/username/Desktop
</code></pre></div></p>
<p>通过 <code>cd -</code> 回到上一次所在的路径。注意：该功能只支持一次，不能多次回退。如果执行两次，则又返回到了执行两次 <code>cd -</code> 之前的目录。
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>username@ubuntu:~$ <span class="nb">cd</span> /
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>username@ubuntu:/$ <span class="nb">cd</span> home
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>username@ubuntu:/home$ <span class="nb">cd</span> username/
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>username@ubuntu:~$ <span class="nb">pwd</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>/home/username
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>username@ubuntu:~$ <span class="nb">cd</span> -
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>/home
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>username@ubuntu:/home$ <span class="nb">cd</span> -
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>/home/username
</code></pre></div></p>
<h4 id="24">2.4 文件系统</h4>
<p>通过 <code>ls</code> 查看指定目录下的目录和文件。如果不提供参数，则查看的是当前路径下的目录和文件。
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>username@ubuntu:~$ ls
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>username@ubuntu:~$ ls ..
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>username
</code></pre></div></p>
<p>通过 <code>ls -l</code> 查看指定目录下的目录和文件，但打印的格式是“a long listing format”
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>username@ubuntu:~$ ls -l
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>total <span class="m">32</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>lrwxrwxrwx   <span class="m">1</span> root root          <span class="m">7</span> Feb  <span class="m">2</span>  <span class="m">2021</span> bin -&gt; usr/bin
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>drwxr-xr-x   <span class="m">4</span> root root       <span class="m">4096</span> Oct <span class="m">19</span> <span class="m">21</span>:42 boot
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>drwxr-xr-x   <span class="m">2</span> root root       <span class="m">4096</span> Mar <span class="m">13</span>  <span class="m">2021</span> cdrom
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>drwxr-xr-x  <span class="m">20</span> root root       <span class="m">4120</span> Oct <span class="m">19</span> <span class="m">22</span>:06 dev
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>drwxr-xr-x <span class="m">139</span> root root      <span class="m">12288</span> Oct <span class="m">19</span> <span class="m">21</span>:56 etc
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>drwxr-xr-x   <span class="m">3</span> root root       <span class="m">4096</span> Oct <span class="m">19</span> <span class="m">21</span>:50 home
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>lrwxrwxrwx   <span class="m">1</span> root root          <span class="m">7</span> Feb  <span class="m">2</span>  <span class="m">2021</span> lib -&gt; usr/lib
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>drwx------   <span class="m">2</span> root root      <span class="m">16384</span> Mar <span class="m">13</span>  <span class="m">2021</span> lost+found
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>drwxr-xr-x   <span class="m">3</span> root root       <span class="m">4096</span> Oct <span class="m">19</span> <span class="m">21</span>:42 media
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>drwxr-xr-x   <span class="m">2</span> root root       <span class="m">4096</span> Feb  <span class="m">2</span>  <span class="m">2021</span> mnt
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>drwxr-xr-x   <span class="m">2</span> root root       <span class="m">4096</span> Feb  <span class="m">2</span>  <span class="m">2021</span> opt
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>dr-xr-xr-x <span class="m">264</span> root root          <span class="m">0</span> Oct <span class="m">19</span> <span class="m">21</span>:56 proc
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>drwx------   <span class="m">6</span> root root       <span class="m">4096</span> Feb <span class="m">28</span>  <span class="m">2022</span> root
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>drwxr-xr-x  <span class="m">33</span> root root        <span class="m">900</span> Oct <span class="m">19</span> <span class="m">22</span>:08 run
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>lrwxrwxrwx   <span class="m">1</span> root root          <span class="m">8</span> Feb  <span class="m">2</span>  <span class="m">2021</span> sbin -&gt; usr/sbin
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>drwxr-xr-x   <span class="m">7</span> root root       <span class="m">4096</span> Jan <span class="m">18</span>  <span class="m">2022</span> snap
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>drwxr-xr-x   <span class="m">2</span> root root       <span class="m">4096</span> Feb  <span class="m">2</span>  <span class="m">2021</span> srv
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>-rw-------   <span class="m">1</span> root root <span class="m">2147483648</span> Mar <span class="m">13</span>  <span class="m">2021</span> swap.img
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>dr-xr-xr-x  <span class="m">13</span> root root          <span class="m">0</span> Oct <span class="m">19</span> <span class="m">21</span>:56 sys
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>drwxrwxrwt  <span class="m">20</span> root root       <span class="m">4096</span> Oct <span class="m">19</span> <span class="m">22</span>:50 tmp
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>drwxr-xr-x  <span class="m">11</span> root root       <span class="m">4096</span> Mar <span class="m">13</span>  <span class="m">2021</span> usr
<a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a>drwxr-xr-x  <span class="m">14</span> root root       <span class="m">4096</span> Mar <span class="m">13</span>  <span class="m">2021</span> var
</code></pre></div></p>
<p>对于 <code>drwxr-xr-x   3 root root       4096 Oct 19 21:50 home</code>：</p>
<ul>
<li>第 1 位的 <code>d</code> 表示这个是目录</li>
<li>第 2 - 4 位的 <code>rwx</code> 表示当前目录或文件的所有者对其有读、写、执行的权限；</li>
<li>第 5 - 7 位的 <code>r-x</code> 表示当前目录或文件的所有者所在组的其他成员对其有读、执行的权限，没有写的权限；</li>
<li>第 8 - 10 位的 <code>rw-</code> 表示当前目录或文件的所有者所在组之外的成员对其有读、执行的权限，没有写的权限。</li>
</ul>
<p>注意：
* 如果对某个文件有写权限，但是对其所在的目录没有写权限，则可以清空这个文件的内容，但是不能删除这个文件。
* 对于目录，只有当对其有执行权限时，才能访问这个目录中的内容。</p>
<p>通过 <code>ls -R</code> 递归列出目录结构
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>username@ubuntu:~/test2/ls-r_test$ ls -R .
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>.:
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>test1  test2
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>./test1:
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>./test2:
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>test3
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>./test2/test3:
</code></pre></div></p>
<h4 id="25">2.5 命令的选项</h4>
<p>通过 <code>--help</code> 查看帮助信息（部分程序可以通过 <code>-h</code> 达到相同效果）
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>username@ubuntu:~$ ls --help
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>Usage: ls <span class="o">[</span>OPTION<span class="o">]</span>... <span class="o">[</span>FILE<span class="o">]</span>...
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>List information about the FILEs <span class="o">(</span>the current directory by default<span class="o">)</span>.
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>Sort entries alphabetically <span class="k">if</span> none of -cftuvSUX nor --sort is specified.
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>Mandatory arguments to long options are mandatory <span class="k">for</span> short options too.
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>  -a, --all                  <span class="k">do</span> not ignore entries starting with .
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>  -A, --almost-all           <span class="k">do</span> not list implied . and ..
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>      --author               with -l, print the author of each file
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="o">(</span>在这里省略了后面的内容，有兴趣的话可以自己执行试一试<span class="o">)</span>
</code></pre></div></p>
<h4 id="26">2.6 目录/文件操作</h4>
<p>通过 <code>mv</code> 移动文件或目录，也可以用于重命名
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>username@ubuntu:~/test$ <span class="nb">pwd</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>/home/username/test
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>username@ubuntu:~/test$ ls
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>directory1  directory2  testfile
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>username@ubuntu:~/test$ mv testfile directory1
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>username@ubuntu:~/test$ ls
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>directory1  directory2
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>username@ubuntu:~/test$ ls directory1
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>testfile
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>username@ubuntu:~/test$ mv directory1/testfile directory2/new_testfile
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>username@ubuntu:~/test$ ls directory1
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>username@ubuntu:~/test$ ls directory2
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>new_testfile
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>username@ubuntu:~/test$ mv directory2 directory1
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>username@ubuntu:~/test$ ls
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>directory1
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>username@ubuntu:~/test$ <span class="nb">cd</span> directory1/
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>username@ubuntu:~/test/directory1$ ls
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>directory2
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>username@ubuntu:~/test/directory1$ ls directory2/
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>new_testfile
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>username@ubuntu:~/test/directory1$ mv directory2/ ../
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>username@ubuntu:~/test/directory1$ <span class="nb">cd</span> ..
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>username@ubuntu:~/test$ ls
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>directory1  directory2
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>username@ubuntu:~/test$ mv directory2 directory1/dir2
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>username@ubuntu:~/test$ ls
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>directory1
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>username@ubuntu:~/test$ <span class="nb">cd</span> directory1/
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>username@ubuntu:~/test/directory1$ ls
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>dir2
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>username@ubuntu:~/test/directory1$ <span class="nb">cd</span> dir2/
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>username@ubuntu:~/test/directory1/dir2$ ls
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a>new_testfile
</code></pre></div></p>
<p>通过 <code>mv -i</code> 实现在移动或重命名的时候：若目标文件已经存在，则询问是否覆盖
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>directory1  directory2  test1.txt  test3  testfile  test.txt
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>username@ubuntu:~/test2$ mv test.txt test1.txt
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>directory1  directory2  test1.txt  test3  testfile
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>username@ubuntu:~/test2$ touch test.txt
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>username@ubuntu:~/test2$ mv -i test.txt test1.txt
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>mv: overwrite <span class="s1">&#39;test1.txt&#39;</span>? n
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>username@ubuntu:~/test2$ cat test1.txt
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>This is a <span class="nb">test</span> file.
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>username@ubuntu:~/test2$ cat test.txt
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>username@ubuntu:~/test2$ mv -i test1.txt test.txt
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>mv: overwrite <span class="s1">&#39;test.txt&#39;</span>? y
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>directory1  directory2  test3  testfile  test.txt
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>username@ubuntu:~/test2$ cat test.txt
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>This is a <span class="nb">test</span> file.
</code></pre></div></p>
<p>通过 <code>cp</code> 命令复制文件，通过 <code>cp -r</code> 命令复制目录。
在复制时，可以给复制后的副本赋予新的名称。
此外，如果目标路径不存在，可以
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>username@ubuntu:~/test2$ <span class="nb">pwd</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>/home/username/test2
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>directory1  directory2  testfile
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>username@ubuntu:~/test2$ cp testfile directory1/
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>username@ubuntu:~/test2$ ls directory1
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>testfile
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>username@ubuntu:~/test2$ cp testfile directory2/new_testfile
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>username@ubuntu:~/test2$ ls directory2
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>new_testfile
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>username@ubuntu:~/test2$ cp -r directory2 directory1
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>username@ubuntu:~/test2$ ls directory1
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>directory2  testfile
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>username@ubuntu:~/test2$ cp -r directory2 directory1/directory2_new
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>username@ubuntu:~/test2$ ls directory1
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>directory2  directory2_new  testfile
</code></pre></div></p>
<p>如果目标路径包含多级，同时第一级路径不存在，则无法复制；如果目标目录仅包含一级，同时该路径不存在，则复制的同时创建目录；如果目标路径的第一级路径存在，但目标路径的第二级或更之后的目录不存在，则会将这些目录一起创建。</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>username@ubuntu:~/test2$ cp -r directory2 directory3/directory3_1
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>cp: cannot create directory <span class="s1">&#39;directory3/directory3_1&#39;</span>: No such file or directory
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>username@ubuntu:~/test2$ cp -r directory2 directory3
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>directory1  directory2  directory3  testfile
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>username@ubuntu:~/test2$ cp -r directory2 directory1/directory1_1/
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>username@ubuntu:~/test2$ ls directory1
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>directory1_1  directory2  directory2_new  testfile
</code></pre></div>
<p>通过 <code>rm</code> 命令删除文件
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>username@ubuntu:~/test2$ ls directory3
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>new_testfile
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>username@ubuntu:~/test2$ rm directory3/new_testfile 
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>username@ubuntu:~/test2$ ls directory3
</code></pre></div></p>
<p>通过 <code>rm -r</code> 删除目录及其中的文件（递归删除），而实用 <code>rm</code> 无法删除目录，即使这个目录中没有文件
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>directory1  directory2  directory3  testfile
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>username@ubuntu:~/test2$ ls directory2
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>new_testfile
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>username@ubuntu:~/test2$ rm -r directory2
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>directory1  directory3  testfile
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>username@ubuntu:~/test2$ rm directory3
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>rm: cannot remove <span class="s1">&#39;directory3&#39;</span>: Is a directory
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>username@ubuntu:~/test2$ rm -r directory3
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>directory1  testfile
</code></pre></div></p>
<p>通过 <code>rmdir</code> 删除空目录。如果目录不为空，则无法删除
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>username@ubuntu:~/test2$ mkdir directory2
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>directory1  directory2  testfile
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>username@ubuntu:~/test2$ rmdir directory2
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>directory1  testfile
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>username@ubuntu:~/test2$ rmdir directory1
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>rmdir: failed to remove <span class="s1">&#39;directory1&#39;</span>: Directory not empty
</code></pre></div></p>
<p>通过 <code>mkdir</code> 创建目录。如果后面有多个参数，则创建多个目录，每个参数对应一个目录。如果要创建的目录名称中包含空格，则通过 <code>\</code> 进行转义，也可以通过使用双引号或单引号达到同样的目的。
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>username@ubuntu:~/test2/test3$ ls
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>username@ubuntu:~/test2/test3$ mkdir <span class="nb">test</span> directory
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>username@ubuntu:~/test2/test3$ ls
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>directory  <span class="nb">test</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>username@ubuntu:~/test2/test3$ rm -r <span class="nb">test</span> directory
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>username@ubuntu:~/test2/test3$ ls
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>username@ubuntu:~/test2/test3$ mkdir test<span class="se">\ </span>directory
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>username@ubuntu:~/test2/test3$ ls
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="s1">&#39;test directory&#39;</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>username@ubuntu:~/test2/test3$ rm -r test<span class="se">\ </span>directory/
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>username@ubuntu:~/test2/test3$ mkdir <span class="s2">&quot;test directory&quot;</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a>username@ubuntu:~/test2/test3$ ls
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="s1">&#39;test directory&#39;</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>username@ubuntu:~/test2/test3$ rm -r test<span class="se">\ </span>directory/
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a>username@ubuntu:~/test2/test3$ mkdir <span class="s1">&#39;test directory&#39;</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a>username@ubuntu:~/test2/test3$ ls
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="s1">&#39;test directory&#39;</span>
</code></pre></div></p>
<p>通过 <code>cat</code> 打印文件内容
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>username@ubuntu:~/test2$ cat test.txt
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>This is a <span class="nb">test</span> file.
</code></pre></div></p>
<p>通过 <code>tail</code> 打印文件最后 10 行。
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>username@ubuntu:~/test2$ cat testfile 
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>line1
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>line2
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>line3
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>line4
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>line5
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>line6
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>line7
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>line8
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>line9
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>line10
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>line11
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>line12
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>username@ubuntu:~/test2$ tail testfile 
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a>line3
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a>line4
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a>line5
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a>line6
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>line7
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a>line8
<a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a>line9
<a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a>line10
<a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a>line11
<a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a>line12
</code></pre></div></p>
<p>通过 <code>tail -n行数</code> 或 <code>tail -n行数</code> 打印最后指定行数
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>username@ubuntu:~/test$ tail testfile -n1
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>line12
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>username@ubuntu:~/test$ tail testfile -n <span class="m">1</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>line12
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>username@ubuntu:~/test$ tail testfile -n20
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>line1
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>line2
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>line3
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>line4
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>line5
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>line6
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>line7
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>line8
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>line9
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>line10
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>line11
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a>line12
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a>username@ubuntu:~/test$ tail testfile -n <span class="m">20</span>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>line1
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>line2
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>line3
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a>line4
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>line5
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>line6
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>line7
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a>line8
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a>line9
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>line10
<a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a>line11
<a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a>line12
</code></pre></div></p>
<p>通过 <code>xdg-open</code> 令系统使用合适的程序打开文件（适用于各种类型的文件，包括目录）
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>username@ubuntu:~/test2$ xdg-open test.txt
</code></pre></div>
系统使用 Text Editor 打开了这个文件</p>
<p>通过 <code>diff</code> 查看差别
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>username@ubuntu:~/test/difftest$ ls difftest1
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>difftest1_1  difftest1_2
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>username@ubuntu:~/test/difftest$ ls difftest2
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>difftest2_1
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>username@ubuntu:~/test/difftest$ diff &lt;<span class="o">(</span>ls difftest1<span class="o">)</span> &lt;<span class="o">(</span>ls difftest2<span class="o">)</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="m">1</span>,2c1
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>&lt; difftest1_1
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>&lt; difftest1_2
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>---
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>&gt; difftest2_1
</code></pre></div></p>
<p>注：关于 <code>&lt;()</code>，请查看“3 流（stream）”</p>
<p>通过 <code>find</code> 查找目录或文件
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>username@ubuntu:~/test2$ sudo find / -name src -type d
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>find: ‘/run/user/1001/gvfs’: Permission denied
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>/usr/local/src
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>/usr/src
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>/usr/src/linux-hwe-5.13-headers-5.13.0-30/drivers/gpu/drm/amd/display/dmub/src
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>/usr/src/linux-hwe-5.13-headers-5.13.0-30/tools/usb/usbip/src
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>/usr/src/linux-hwe-5.13-headers-5.13.0-25/drivers/gpu/drm/amd/display/dmub/src
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>/usr/src/linux-hwe-5.13-headers-5.13.0-25/tools/usb/usbip/src
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>/snap/core20/1614/usr/src
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>/snap/core20/1627/usr/src
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>/snap/core18/2570/usr/src
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>/snap/core18/2542/usr/src
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>username@ubuntu:~/test2$ find .. -path <span class="s1">&#39;**/test2/*.py&#39;</span> -type f
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a>../test2/test.py
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a>username@ubuntu:~/test2$ find .. -path <span class="s1">&#39;**/test2/*.py&#39;</span> -type f -mtime -1
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a>../test2/test.py
</code></pre></div></p>
<p>可以删除找到的文件
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>username@ubuntu:~/test2$ find . -name <span class="s2">&quot;*,tmp&quot;</span> -exec rm <span class="o">{}</span> <span class="se">\;</span>
</code></pre></div></p>
<p>注：<code>-mtime -1</code> 表示在最近一天进行了修改</p>
<p>通过 <code>fd</code> 查找文件，默认情况下部搜索隐藏目录，且忽略 。gitignore 中的路径（？需要验证）
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>username@ubuntu:~/test2$ fdfind <span class="s2">&quot;.*py&quot;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>test.py
</code></pre></div>
注：未验证其他系统是否可以直接使用 <code>fd</code></p>
<p>如果要使用 <code>fd</code> 代替 <code>fdfind</code>，则执行如下命令：
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="nb">alias</span> <span class="nv">fd</span><span class="o">=</span>fdfind
</code></pre></div></p>
<p>注：安装 <code>fd</code> 的命令是 <code>sudo apt install fd-find</code>，而不是 Ubuntu 提示的 <code>sudo apt install fdclone</code>.</p>
<p>根据 Ubuntu 的提示，我使用 <code>sudo apt install fdclone</code> 安装 fd，执行 <code>fd</code> 命令后的到的是一个如下的界面
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>  FD<span class="o">(</span>File <span class="p">&amp;</span> Directory tool<span class="o">)</span> Ver.3.01h# <span class="o">(</span>c<span class="o">)</span><span class="m">1995</span>-2018 T.Shirai    <span class="m">22</span>-10-20 <span class="m">19</span>:59  
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a> Page: <span class="m">1</span>/ <span class="m">1</span> Mark:   <span class="m">0</span>/   <span class="m">8</span> Sort:しない         Find:
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a> Path:/home/username/test2                                                          
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>  directory1/      &lt;DIR&gt; <span class="m">22</span>-10-20 <span class="m">10</span>:15
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>  ../              &lt;DIR&gt; <span class="m">22</span>-10-20 <span class="m">19</span>:43
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>  test.txt            <span class="m">21</span> <span class="m">22</span>-10-20 <span class="m">10</span>:48
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>  directory2/      &lt;DIR&gt; <span class="m">22</span>-10-20 <span class="m">10</span>:27
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>  test3/           &lt;DIR&gt; <span class="m">22</span>-10-20 <span class="m">10</span>:33
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>  ./               &lt;DIR&gt; <span class="m">22</span>-10-20 <span class="m">19</span>:47
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a>  test.py              <span class="m">0</span> <span class="m">22</span>-10-20 <span class="m">19</span>:47
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a>  testfile             <span class="m">0</span> <span class="m">22</span>-10-20 <span class="m">10</span>:11
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a>
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a>ST  Logdir  eXec   Copy  Delete Rename     Sort   Find   Tree  Editor Unpack
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a>drwxr-xr-x <span class="m">21</span> username     username         <span class="m">4096</span> <span class="m">22</span>-10-20 <span class="m">19</span>:43 ..                      
</code></pre></div></p>
<h4 id="27">2.7 查看手册</h4>
<p>通过 <code>mkdir -p</code> 创建多级目录
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>oid@ubuntu:~/test2/test3$ mkdir -p directory1/directory1_1
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>username@ubuntu:~/test2/test3$ ls
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a> directory1  <span class="s1">&#39;test directory&#39;</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>username@ubuntu:~/test2/test3$ ls directory1/
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>directory1_1
</code></pre></div></p>
<p>通过 <code>man</code> 命令（manual）查看命令（程序）的手册
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>LS<span class="o">(</span><span class="m">1</span><span class="o">)</span>                            User Commands                           LS<span class="o">(</span><span class="m">1</span><span class="o">)</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>NAME
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>       ls - list directory contents
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>SYNOPSIS
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>       ls <span class="o">[</span>OPTION<span class="o">]</span>... <span class="o">[</span>FILE<span class="o">]</span>...
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>DESCRIPTION
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>       List  information  about  the FILEs <span class="o">(</span>the current directory by default<span class="o">)</span>.
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>       Sort entries alphabetically <span class="k">if</span> none of -cftuvSUX nor --sort  is  speci‐
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>       fied.
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>       Mandatory  arguments  to  long  options are mandatory <span class="k">for</span> short options
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a>       too.
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a>       -a, --all
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a>              <span class="k">do</span> not ignore entries starting with .
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>       -A, --almost-all
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a>              <span class="k">do</span> not list implied . and ..
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a>
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a>       --author
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a> Manual page ls<span class="o">(</span><span class="m">1</span><span class="o">)</span> line <span class="m">1</span> <span class="o">(</span>press h <span class="k">for</span> <span class="nb">help</span> or q to quit<span class="o">)</span>
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="o">(</span>在这里省略了后面的内容，有兴趣的话可以自己执行试一试<span class="o">)</span>
</code></pre></div></p>
<p>注：</p>
<ul>
<li><code>Manual page ls(1) line 1 (press h for help or q to quit)</code> 这一行始终显示在 terminal 的最下方</li>
<li>可以通过 <code>ENTER</code>、<code>PGUP</code>、<code>PGDN</code> 等案件对执行 <code>man</code> 命令后显示的内容进行翻阅</li>
</ul>
<h4 id="28">2.8 通配符</h4>
<ul>
<li><code>*</code>：匹配任意个任意字符</li>
<li><code>?</code>：匹配 1 个任意字符</li>
<li><code>{逗号分隔的多个值}</code>：在命令后填充这些值。如果有空格，则不生效</li>
<li><code>开头..末尾</code>：将生成从开头到末尾的多个文件</li>
</ul>
<p>示例
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>username@ubuntu:~/test2$ ls t*
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>testfile  test.txt
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>test3:
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a> directory1  <span class="s1">&#39;test directory&#39;</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>username@ubuntu:~/test2$ ls directory?
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>directory1:
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>directory1_1  directory2  directory2_new  testfile
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>directory2:
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>testfile
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> Hello<span class="o">{</span>,1,2,3<span class="o">}</span>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a>Hello Hello1 Hello2 Hello3
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> Hello<span class="o">{</span>, <span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span><span class="o">}</span>
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a>Hello<span class="o">{</span>, <span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span><span class="o">}</span>
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>touch project<span class="o">{</span><span class="m">1</span>, <span class="m">2</span><span class="o">}</span>/src/test/test<span class="o">{</span><span class="m">1</span>,2,3<span class="o">}</span>.py  <span class="c1"># 将生成 6 个文件</span>
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a>touch <span class="o">{</span>foo,bar<span class="o">}</span>/<span class="o">{</span>a..j<span class="o">}</span>  <span class="c1"># 将生成 foo/a、foo/b、...、foo/j、bar/a、bar/b、...、bar/j</span>
</code></pre></div></p>
<p>通过 <code>locate</code> 查找目录或文件。<code>locate</code> 是从一个数据库中查找，而不是在硬盘中查找。其速度比 <code>find</code> 快，但是可能不是最新的（如果数据库没有更新）。这个数据库一般是系统自己维护的，也可以通过 <code>updatedb</code> 手动更新数据库
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>username@ubuntu:~/test2$ sudo updatedb
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>/usr/bin/find: <span class="s1">&#39;/run/user/1001/gvfs&#39;</span>: Permission denied
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>username@ubuntu:~/test2$ locate python
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>（打印的内容很多，这里就不展示了）
</code></pre></div></p>
<h4 id="29">2.9 文本过滤</h4>
<p>通过 <code>grep</code> 进行文本过滤
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>username@ubuntu:~/test2$ ls
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>directory1  directory2  foobar.txt  foo.txt  test3  testfile  test.py  test.txt
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>username@ubuntu:~/test2$ cat foo.txt 
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>foobar
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>username@ubuntu:~/test2$ grep -R foobar .
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>./foo.txt:foobar
</code></pre></div></p>
<h4 id="210">2.10 命令管理</h4>
<p>通过 敲击上箭头 查看之前的命令</p>
<p>通过 <code>history</code> 查看历史命令</p>
<p>通过 <code>Ctrl + R</code> 向后查找历史记录
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="o">(</span>reverse-i-search<span class="o">)</span><span class="sb">`</span>convert<span class="err">&#39;</span>: <span class="nb">history</span> <span class="m">1</span> <span class="p">|</span> grep convert
</code></pre></div>
其中，第二行左侧的 <code>convert</code> 是我键入的。</p>
<p>再次按  <code>Ctrl + R</code>，会显示更早的包含 <code>convert</code> 的历史记录。</p>
<p>然后按 <code>Enter</code>，则会执行命令。</p>
<h2 id="3-stream">3 流（stream）</h2>
<p>每个程序默认都有输入流和输出流。输入流默认是键盘。输出流默认是 terminal。Shell 提供了改变输入流和输出流的功能。</p>
<ul>
<li><code>&lt; 文件名称</code>：将此文件指定为输入</li>
<li><code>&gt; 文件名称</code>：将此文件指定为输出</li>
<li><code>&gt;&gt; 文件名称</code>：添加到文件最后</li>
<li><code>|</code>：pipe（管道），将左侧的输出作为右侧的输入</li>
</ul>
<p><code>&lt;</code> 的示例
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>username@ubuntu:~/streamtest$ ls
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>username@ubuntu:~/streamtest$ <span class="nb">echo</span> <span class="s2">&quot;Hello, World!&quot;</span> &gt; hello.txt
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>username@ubuntu:~/streamtest$ ls
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>hello.txt
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>username@ubuntu:~/streamtest$ cat hello.txt 
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>Hello, World!
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>username@ubuntu:~/streamtest$ cat &lt; hello.txt
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>Hello, World!
</code></pre></div></p>
<p>通过 <code>cat1</code>、<code>&lt;</code> 和 <code>&gt;</code> 可以实现文件复制
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>username@ubuntu:~/streamtest$ cat &lt; hello.txt &gt; hello2.txt
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>username@ubuntu:~/streamtest$ cat hello2.txt
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>Hello, World!
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>username@ubuntu:~/streamtest$ cat hello.txt &gt; hello3.txt
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>username@ubuntu:~/streamtest$ cat hello3.txt
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>Hello, World!
</code></pre></div></p>
<p>通过 <code>&gt;&gt;</code> 将内容添加到文件最后
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>username@ubuntu:~/streamtest$ cat &lt; hello.txt &gt;&gt; hello2.txt
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>username@ubuntu:~/streamtest$ cat hello2.txt
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>Hello, World!
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>Hello, World!
</code></pre></div></p>
<p>通过 <code>|</code> 将左侧的输出作为右侧的输入
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>username@ubuntu:~/streamtest$ ls -l / <span class="p">|</span> tail -n1
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>drwxr-xr-x  <span class="m">14</span> root root       <span class="m">4096</span> Mar <span class="m">13</span>  <span class="m">2021</span> var
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>username@ubuntu:~/streamtest$ ls -l / <span class="p">|</span> tail -n1 &gt; ls.txt
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>username@ubuntu:~/streamtest$ cat ls.txt
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>drwxr-xr-x  <span class="m">14</span> root root       <span class="m">4096</span> Mar <span class="m">13</span>  <span class="m">2021</span> var
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>username@ubuntu:~/streamtest$ curl --head --silent baidu.com
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>HTTP/1.1 <span class="m">200</span> OK
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>Date: Thu, <span class="m">20</span> Oct <span class="m">2022</span> <span class="m">03</span>:18:48 GMT
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>Server: Apache
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>Last-Modified: Tue, <span class="m">12</span> Jan <span class="m">2010</span> <span class="m">13</span>:48:00 GMT
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>ETag: <span class="s2">&quot;51-47cf7e6ee8400&quot;</span>
<a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>Accept-Ranges: bytes
<a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a>Content-Length: <span class="m">81</span>
<a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a>Cache-Control: max-age<span class="o">=</span><span class="m">86400</span>
<a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a>Expires: Fri, <span class="m">21</span> Oct <span class="m">2022</span> <span class="m">03</span>:18:48 GMT
<a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a>Connection: Keep-Alive
<a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a>Content-Type: text/html
<a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a>
<a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a>username@ubuntu:~/streamtest$ curl --head --silent baidu.com <span class="p">|</span> grep -i content-length
<a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a>Content-Length: <span class="m">81</span>
<a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a>username@ubuntu:~/streamtest$ curl --head --silent baidu.com <span class="p">|</span> grep -i content-length <span class="p">|</span> cut --delimiter<span class="o">=</span><span class="s1">&#39; &#39;</span> -f2
<a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="m">81</span>
</code></pre></div></p>
<p>注：
pipe 不只针对文本，对图像、其他二进制文件等都适用。</p>
<h2 id="4-root">4 root</h2>
<h4 id="41-root">4.1 以 root 权限执行命令</h4>
<p>Linux 和 Mac OS 中的 root 用户类似于 Windows 的 Administrator，ID 为 0，可以在系统中做任何事情，可以访问任何文件。</p>
<p>建议平时不要使用 root 用户。</p>
<p>通过 <code>sudo</code> 以管理员权限执行命令
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>username@ubuntu:~/streamtest$ sudo apt install vim
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for</span> username: 
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>Reading package lists... Done
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>Building dependency tree       
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>Reading state information... Done
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>vim is already the newest version <span class="o">(</span><span class="m">2</span>:8.1.2269-1ubuntu5.9<span class="o">)</span>.
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="m">0</span> upgraded, <span class="m">0</span> newly installed, <span class="m">0</span> to remove and <span class="m">330</span> not upgraded.
</code></pre></div></p>
<p>一些权限问题：即使用 <code>sudo</code> 执行命令，如果当前用户没有 <code>&gt;</code> 后面的文件的权限，则仍无法成功执行。
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>username@ubuntu:~$ sudo <span class="nb">echo</span> <span class="m">600</span> &gt; /sys/class/backlight/intel_backlight/brightness
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>bash: brightness: Permission denied
</code></pre></div></p>
<h4 id="42-root">4.2 切换到 root</h4>
<p>通过 <code>sudo su</code> 切换到 root
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>username@ubuntu:~$ sudo su
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for</span> username:
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>root@ubuntu:/home/username#
</code></pre></div></p>
<h4 id="43-root">4.3 不切换到 root 也可以修改没有权限的文件</h4>
<p>通过 <code>tea</code> 命令修改文件
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="m">600</span> <span class="p">|</span> sudo tea /sys/class/backlight/intel_backlight/brightness
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="m">600</span>
</code></pre></div></p>
<h4 id="44-sys">4.4 /sys 目录</h4>
<p><code>/sys</code> 是系统目录，包含内核参数，2 而内核参数是系统的核心。可以通过对这些内容进行操作，修改系统或硬件设置。</p>
<h2 id="5-shell">5 使用 Shell 编写脚本</h2>
<h4 id="51">5.1 变量的定义、赋值与访问</h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>username@ubuntu:~/test2$ <span class="nv">score</span><span class="o">=</span><span class="m">100</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> <span class="nv">$score</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="m">100</span>
</code></pre></div>
注：进行变量的定义与赋值时等号两侧不能有空格
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>username@ubuntu:~/test2$ <span class="nv">foo</span> <span class="o">=</span> bar
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>Command <span class="s1">&#39;foo&#39;</span> not found, did you mean:
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>  <span class="nb">command</span> <span class="s1">&#39;fio&#39;</span> from deb fio <span class="o">(</span><span class="m">3</span>.16-1<span class="o">)</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>  <span class="nb">command</span> <span class="s1">&#39;fop&#39;</span> from deb fop <span class="o">(</span><span class="m">1</span>:2.4-2<span class="o">)</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a>  <span class="nb">command</span> <span class="s1">&#39;goo&#39;</span> from deb goo <span class="o">(</span><span class="m">0</span>.155+ds-1<span class="o">)</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a>
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a>Try: sudo apt install &lt;deb name&gt;
</code></pre></div></p>
<h4 id="52">5.2 单引号与双引号</h4>
<p>可以用双引号表示字符串，同时获取其中的变量
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> <span class="s2">&quot;Hello, World!&quot;</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>Hello, World!
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> <span class="s2">&quot;Value is </span><span class="nv">$foo</span><span class="s2">&quot;</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>Value is bar
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> <span class="s2">&quot;Value is \$foo&quot;</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>Value is <span class="nv">$foo</span>
</code></pre></div></p>
<p>可以使用单引号表示字符串，但不会获取其中的变量
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> <span class="s1">&#39;Hello, World!&#39;</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>Hello, World!
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>username@ubuntu:~/test2$ <span class="nb">echo</span> <span class="s1">&#39;Value is $foo&#39;</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>Value is <span class="nv">$foo</span>
</code></pre></div></p>
<h4 id="53">5.3 函数</h4>
<p>mcd.sh
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>mcd <span class="o">()</span> <span class="o">{</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>    mkdir -p <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a>    <span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="o">}</span>
</code></pre></div>
其中，<code>$1</code> 表示命令的第 1 个参数（第 0 个参数就是命令本身）</p>
<p>通过 <code>source</code> 命令执行文件，使 Shell 可以使用其中的函数
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>username@ubuntu:~/scripts$ <span class="nb">source</span> mcd.sh
</code></pre></div></p>
<p>执行 mcd 函数
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>username@ubuntu:~/scripts$ mcd <span class="nb">test</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>username@ubuntu:~/scripts/test$ <span class="nb">pwd</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>/home/username/scripts/test
</code></pre></div></p>
<h4 id="54">5.4 一些关键字</h4>
<ul>
<li><code>$?</code>：上一条命令的错误代码</li>
<li><code>$_</code>：上一条命令的最后一个参数</li>
<li><code>!!</code>：上一条命令</li>
</ul>
<p>示例
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>username@ubuntu:~/scripts$ mcd <span class="nb">test</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>username@ubuntu:~/scripts/test$ <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="m">0</span>
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>username@ubuntu:~/scripts/test$ <span class="nb">cd</span> ..
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a>username@ubuntu:~/scripts$ grep hello mcd.sh
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a>username@ubuntu:~/scripts$ <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="m">1</span>
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a>username@ubuntu:~/scripts$ <span class="nb">true</span>
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a>username@ubuntu:~/scripts$ <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="m">0</span>
<a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a>username@ubuntu:~/scripts$ <span class="nb">false</span>
<a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a>username@ubuntu:~/scripts$ <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="m">1</span>
<a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a>username@ubuntu:~/scripts$ <span class="nb">cd</span> .
<a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a>username@ubuntu:~/scripts$ <span class="nb">echo</span> <span class="nv">$_</span>
<a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a>..
<a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a>username@ubuntu:~/scripts$ rmdir <span class="nb">test</span>
<a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a>username@ubuntu:~/scripts$ <span class="nb">echo</span> <span class="nv">$_</span>
<a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a><span class="nb">test</span>
<a id="__codelineno-56-20" name="__codelineno-56-20" href="#__codelineno-56-20"></a>username@ubuntu:~/scripts$ mkdir /test
<a id="__codelineno-56-21" name="__codelineno-56-21" href="#__codelineno-56-21"></a>mkdir: cannot create directory ‘/test’: Permission denied
<a id="__codelineno-56-22" name="__codelineno-56-22" href="#__codelineno-56-22"></a>username@ubuntu:~/scripts$ sudo !!
<a id="__codelineno-56-23" name="__codelineno-56-23" href="#__codelineno-56-23"></a>sudo mkdir /test
<a id="__codelineno-56-24" name="__codelineno-56-24" href="#__codelineno-56-24"></a><span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for</span> username: 
<a id="__codelineno-56-25" name="__codelineno-56-25" href="#__codelineno-56-25"></a>username@ubuntu:~/scripts$ ls /
<a id="__codelineno-56-26" name="__codelineno-56-26" href="#__codelineno-56-26"></a>bin    dev   lib         mnt   root  snap      sys   usr
<a id="__codelineno-56-27" name="__codelineno-56-27" href="#__codelineno-56-27"></a>boot   etc   lost+found  opt   run   srv       <span class="nb">test</span>  var
<a id="__codelineno-56-28" name="__codelineno-56-28" href="#__codelineno-56-28"></a>cdrom  home  media       proc  sbin  swap.img  tmp
</code></pre></div></p>
<h4 id="55">5.5 逻辑运算符</h4>
<ul>
<li><code>||</code>：表示“或”。如果左侧的结果为 true，则不执行右侧（被短路）；如果左侧的结果为 false，则执行右侧</li>
<li><code>&amp;&amp;</code>：表示“和”。如果左侧的结果为 true，则执行右侧；如果左侧的结果为 false，则不执行右侧（被短路）</li>
</ul>
<p>示例
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>username@ubuntu:~/scripts$ <span class="nb">true</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;true on the left&quot;</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>username@ubuntu:~/scripts$ <span class="nb">false</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">&quot;false on the left&quot;</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="nb">false</span> on the left
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>username@ubuntu:~/scripts$ <span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">&quot;true on the left&quot;</span>
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="nb">true</span> on the left
<a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a>username@ubuntu:~/scripts$ <span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">&quot;true on the left&quot;</span>
</code></pre></div></p>
<h4 id="56">5.6 获取命令的输出</h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>username@ubuntu:~/scripts$ <span class="nv">foo</span><span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>username@ubuntu:~/scripts$ <span class="nb">echo</span> <span class="nv">$foo</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a>/home/username/scripts
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a>username@ubuntu:~/scripts$ <span class="nb">echo</span> <span class="s2">&quot;The current path is </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a>The current path is /home/username/scripts
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a>username@ubuntu:~/scripts$ cat &lt;<span class="o">(</span>ls<span class="o">)</span> &lt;<span class="o">(</span>ls ..<span class="o">)</span>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a>mcd.sh
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a>Desktop
<a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a>Documents
<a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a>Downloads
<a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a>Music
<a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a>Pictures
<a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a>Public
<a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a>scripts
<a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a>streamtest
<a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a>Templates
<a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a><span class="nb">test</span>
<a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a>test2
<a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a>Videos
</code></pre></div>
其中，<code>mcd.sh</code> 是 <code>/home/username/scripts</code> 中的文件，其他的是 <code>/home/username</code> 中的目录</p>
<h4 id="57-shell">5.7 一个简单的 Shell 脚本</h4>
<p>example.sh</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="nb">echo</span> <span class="s2">&quot;Starting program at </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&quot;</span>  <span class="c1"># 通过 $(date) 获取当前时间</span>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="nb">echo</span> <span class="s2">&quot;Running program </span><span class="nv">$0</span><span class="s2"> with </span><span class="nv">$#</span><span class="s2"> arguments with pid </span><span class="nv">$$</span><span class="s2">&quot;</span>  <span class="c1"># $0 表示当前运行的程序，$# 表示参数数量，$$ 为进程 ID</span>
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a>
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="k">for</span> file <span class="k">in</span> <span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">do</span>  <span class="c1"># $@ 表示所有参数（不包括 $0）</span>
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a>    grep foobar <span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span> &gt; /dev/null <span class="m">2</span>&gt; /dev/null  <span class="c1"># 2 表示错误代码，如果这个文件中包含“foobar”，则 /dev/null 中的结果为 0；肉则，/dev/null 中的结果非零</span>
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a>    <span class="k">if</span> <span class="o">[[</span> <span class="s2">&quot;</span><span class="nv">$?</span><span class="s2">&quot;</span> -ne <span class="m">0</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>  <span class="c1"># -ne 表示不相等，上一个命令错误码不为 0，说明这个文件中没有“foobar”</span>
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a>        <span class="nb">echo</span> <span class="s2">&quot;File </span><span class="nv">$file</span><span class="s2"> does not have any foobar, adding one&quot;</span>
<a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a>        <span class="nb">echo</span> <span class="s2">&quot;# foobar&quot;</span> &gt;&gt; <span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span>
<a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a>    <span class="k">fi</span>
<a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="k">done</span>
</code></pre></div>
<p>运行脚本
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>username@ubuntu:~/scripts$ ./example.sh mcd.sh example.sh 
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>Starting program at Thu <span class="m">20</span> Oct <span class="m">2022</span> <span class="m">05</span>:42:50 PM CST
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>Running program ./example.sh with <span class="m">2</span> arguments with pid <span class="m">104862</span>
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>File mcd.sh does not have any foobar, adding one
</code></pre></div></p>
<h2 id="6-shell">6 Shell 的调试</h2>
<p>通过 <code>shellcheck</code> 命令调试 Shell 程序
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>username@ubuntu:~/scripts$ shellcheck mcd.sh
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>In mcd.sh line <span class="m">1</span>:
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>mcd <span class="o">()</span> <span class="o">{</span>
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>^-- SC2148: Tips depend on target shell and yours is unknown. Add a shebang.
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a>
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a>In mcd.sh line <span class="m">3</span>:
<a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a>    <span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a>    ^-----^ SC2164: Use <span class="s1">&#39;cd ... || exit&#39;</span> or <span class="s1">&#39;cd ... || return&#39;</span> <span class="k">in</span> <span class="k">case</span> <span class="nb">cd</span> fails.
<a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a>
<a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a>Did you mean: 
<a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a>    <span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span> <span class="o">||</span> <span class="nb">exit</span>
<a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a>
<a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a>For more information:
<a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a>  https://www.shellcheck.net/wiki/SC2148 -- Tips depend on target shell and y...
<a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a>  https://www.shellcheck.net/wiki/SC2164 -- Use <span class="s1">&#39;cd ... || exit&#39;</span> or <span class="err">&#39;</span><span class="nb">cd</span> ... <span class="p">|</span>...
</code></pre></div></p>
<h2 id="7">7 其他脚本</h2>
<p>其他语言也可以用于编写脚本，如 Python。</p>
<p>script.py
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="ch">#!usr/local/bin/python</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</code></pre></div></p>
<p>运行上述脚本
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>username@ubuntu:~/scripts$ python3 script.py arg1 arg2 arg3
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>arg3
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a>arg2
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a>arg1
</code></pre></div></p>
<p>注：在一些环境下，可以使用 <code>python</code> 命令而不是 `python3``</p>
<p>不使用 <code>python3</code> 或 <code>python</code>，运行脚本
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>username@ubuntu:~/scripts$ ./script.py arg1 arg2 arg3
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>arg3
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a>arg2
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a>arg1
</code></pre></div></p>
<p>注意：在我的运行环境（Ubuntu 22.04, bash）下，没有成功，但在 Mac OS, zsh 下成功了（<code>#!</code> 后面的内容应该是 Python 对应路径）</p>
<p>为了自适应 Python 路径，上述 Python 脚本可以修改为
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="ch">#!usr/bin/env python</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>import sys
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="k">for</span> arg <span class="k">in</span> reversed<span class="o">(</span>sys.argv<span class="o">[</span><span class="m">1</span>:<span class="o">])</span>:
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a>    print<span class="o">(</span>arg<span class="o">)</span>
</code></pre></div></p>
<h2 id="8-data-wrangling">8 数据整理（Data wrangling）</h2>
<h4 id="81">8.1 对命令的输出进行筛选</h4>
<p><code>journalctl</code> 用于查看系统日志，通过 <code>grep</code> 对其进行筛选
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a>username@ubuntu:~$ journalctl <span class="p">|</span> grep ssh
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>Hint: You are currently not seeing messages from other users and the system.
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>      Users <span class="k">in</span> groups <span class="s1">&#39;adm&#39;</span>, <span class="s1">&#39;systemd-journal&#39;</span> can see all messages.
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a>      Pass -q to turn off this notice.
<a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a>Feb <span class="m">28</span> <span class="m">15</span>:16:13 ubuntu-linux-20-04-desktop systemd<span class="o">[</span><span class="m">3904</span><span class="o">]</span>: Listening on GnuPG cryptographic agent <span class="o">(</span>ssh-agent emulation<span class="o">)</span>.
<a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a>Feb <span class="m">28</span> <span class="m">15</span>:16:14 ubuntu-linux-20-04-desktop systemd<span class="o">[</span><span class="m">3904</span><span class="o">]</span>: ssh-agent.service: Succeeded.
<a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a>Feb <span class="m">28</span> <span class="m">15</span>:16:14 ubuntu-linux-20-04-desktop gnome-keyring-ssh.desktop<span class="o">[</span><span class="m">4168</span><span class="o">]</span>: <span class="nv">SSH_AUTH_SOCK</span><span class="o">=</span>/run/user/1001/keyring/ssh
<a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a>Aug <span class="m">17</span> <span class="m">23</span>:02:09 ubuntu-linux-20-04-desktop systemd<span class="o">[</span><span class="m">1225</span><span class="o">]</span>: Listening on GnuPG cryptographic agent <span class="o">(</span>ssh-agent emulation<span class="o">)</span>.
<a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a>Aug <span class="m">17</span> <span class="m">23</span>:02:17 ubuntu-linux-20-04-desktop systemd<span class="o">[</span><span class="m">1225</span><span class="o">]</span>: ssh-agent.service: Succeeded.
<a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a>Aug <span class="m">17</span> <span class="m">23</span>:02:17 ubuntu-linux-20-04-desktop gnome-keyring-ssh.desktop<span class="o">[</span><span class="m">1875</span><span class="o">]</span>: <span class="nv">SSH_AUTH_SOCK</span><span class="o">=</span>/run/user/1001/keyring/ssh
<a id="__codelineno-66-11" name="__codelineno-66-11" href="#__codelineno-66-11"></a>Aug <span class="m">17</span> <span class="m">23</span>:04:58 ubuntu-linux-20-04-desktop systemd<span class="o">[</span><span class="m">1225</span><span class="o">]</span>: gnome-keyring-ssh.service: Succeeded.
<a id="__codelineno-66-12" name="__codelineno-66-12" href="#__codelineno-66-12"></a><span class="o">(</span>在这里省略了后面的内容，有兴趣的话可以自己执行试一试<span class="o">)</span>
</code></pre></div>
可以通过 <code>ssh</code> 连接远程机器并执行上述命令，如：
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>ssh myserver journalctl <span class="p">|</span> grep ssh
</code></pre></div></p>
<p>还可以进一步筛选
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>username@ubuntu:~$ ssh myserver journalctl <span class="p">|</span> grep ssh <span class="p">|</span> grep <span class="s2">&quot;Disconnected from&quot;</span> 
</code></pre></div>
注：这种方式是从远程机器传输系统日志到本地，然后筛选</p>
<p>通过下面这种方式可以将整条命令在远程机器运行
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>username@ubuntu:~$ ssh myserver <span class="s1">&#39;journalctl | grep ssh | grep &quot;Disconnected from&quot;&#39;</span> 
</code></pre></div></p>
<p>也可以通过 <code>less</code> 查看这个命令打印的内容
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>username@ubuntu:~$ ssh myserver <span class="s1">&#39;journalctl | grep ssh | grep &quot;Disconnected from&quot;&#39;</span> <span class="p">|</span> less
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>username@ubuntu:~$ ssh myserver <span class="s1">&#39;journalctl | grep --line-buffer ssh | grep --line-buffer &quot;Disconnected from&quot;&#39;</span> <span class="p">|</span> less
</code></pre></div>
<h4 id="82">8.2 对流的内容进行替换、统计、筛选与处理</h4>
<p>通过 <code>sed</code>对流的内容进行替换.</p>
<p>第一个 <code>/</code> 和第二个 <code>/</code> 之间填写要被替换的内容，第二个 <code>/</code> 和第三个 <code>/</code> 之间填写用于替换的内容，第三个 <code>/</code> 之后填写选项。</p>
<p>使用“”替换“每一行开头直到 Disconnected from”
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>username@ubuntu:~$ ssh myserver <span class="s1">&#39;journalctl | grep --line-buffer ssh | grep --line-buffer &quot;Disconnected from&quot;&#39;</span> &gt; ssh.log
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed <span class="s1">&#39;s/.*Disconnected from //&#39;</span>
</code></pre></div>
注：正则表达式</p>
<ul>
<li><code>.</code>：任意单个字符</li>
<li><code>*</code>：这之前的字符重复任意（0 到正无穷）次</li>
<li><code>+</code>：这之前的字符重复至少 1 次</li>
<li><code>?</code>：这之前的字符出现 0 次火 1 次</li>
<li><code>[一些字符]</code>：匹配这些字符的其中之一，如 <code>[ab]</code></li>
<li><code>`()</code>：括号中的内容是完整的字符串</li>
<li><code>|</code>：表示“或”</li>
<li>对字符串中的组（group）进行捕获（capture）：<code>()</code> 中的即为组，一个正则表达式中可以有多个组。通过 <code>\组号</code> 重新获取组中的内容（组号从 1 开始）</li>
<li>锚定（anchor）正则表达式：<code>^</code> 表示字符串的开头，<code>$</code> 表示正则表达式的结尾</li>
<li>默认只匹配一次。如果在 <code>sed</code> 要匹配所有的，则在最后一个 <code>/</code> 后添加 <code>g</code></li>
<li>默认匹配符合条件的最长的字符串（贪婪匹配）。在 <code>*</code> 或 <code>+</code> 后面加上 <code>?</code>，则变成非贪婪匹配</li>
<li>正则表达式默认不会跨行匹配</li>
</ul>
<p>示例
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;abc&quot;</span> <span class="p">|</span> sed <span class="s1">&#39;s/[ab]//&#39;</span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>bc
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;bc&quot;</span> <span class="p">|</span> sed <span class="s1">&#39;s/[ab]//&#39;</span>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a>c
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;abc&quot;</span> <span class="p">|</span> sed <span class="s1">&#39;s/[ab]//g&#39;</span>
<a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a>c
</code></pre></div></p>
<p><code>sed</code> 不支持一些正则表达式规则，需要添加 <code>-E</code>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;abcabc&quot;</span> <span class="p">|</span> sed <span class="s1">&#39;s/(ab)*//g&#39;</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a>abcabc
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;abcabc&quot;</span> <span class="p">|</span> sed -E <span class="s1">&#39;s/(ab)*//g&#39;</span>
<a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a>cc
<a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;abcabc&quot;</span> <span class="p">|</span> sed -E <span class="s1">&#39;s/(ab|bc)*//g&#39;</span>
<a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a>cc
<a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;bcabc&quot;</span> <span class="p">|</span> sed -E <span class="s1">&#39;s/(ab|bc)*//g&#39;</span>
<a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a>c
</code></pre></div></p>
<p>使用更复杂一点的正则表达式进行匹配与替换
<div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;sample_string Disconnected from user username 127.0.0.1 port 1234&quot;</span> <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user .* [0-9.]+ port [0-9]+$/changed string/&#39;</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>changed string
</code></pre></div></p>
<p>捕获正则表达式中的组
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;sample_string Disconnected from user username 127.0.0.1 port 1234&quot;</span> <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>username
</code></pre></div></p>
<p>正则表达式调试器：regex101.com
<img alt="regex101.com" src="/assets/imgs/实用技术_Shell_1.png" /></p>
<p>正则表达式相关网站</p>
<ul>
<li><a href="https://www.regular-expressions.info/email.html">How to Find or Validate an Email Address</a></li>
<li><a href="https://mathiasbynens.be/demo/url-regex">In search of the perfect URL validation regex</a></li>
<li><a href="https://fightingforalostcause.net/content/misc/2006/compare-email-regex.php">Comparing E-mail Address Validating Regular Expressions</a></li>
<li><a href="emailregex.com">Email Address Regular Expression That 99.99% Works. Disagree? Join discussion!</a></li>
</ul>
<p>通过 <code>wc -l</code> 统计行数</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> wc -l
<a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="m">117</span>
</code></pre></div>
<p>通过 <code>sort</code> 进行排序；</p>
<p>通过 <code>uniq</code> 将多次出现的相同内容变成一次，<code>unic -c</code> 可以在打印值的同时显示每个值出现的次数</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> wc -l
</code></pre></div>
<p><code>awk</code> 与 <code>paste</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> sort -nk1,1 <span class="p">|</span> tail -n10 <span class="p">|</span> awk <span class="s1">&#39;{print $2}&#39;</span> <span class="p">|</span> paste -sd,
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> sort -nk1,1 <span class="p">|</span> tail -n10 <span class="p">|</span> awk <span class="s1">&#39;$1 == 1 &amp;&amp; $2 ~ /^c.*e$/ {print $0}&#39;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> sort -nk1,1 <span class="p">|</span> tail -n10 <span class="p">|</span> awk <span class="s1">&#39;BEGIN { rows = 0 } $1 == 1 &amp;&amp; $2 ~ /^c.*e$/ { rows += 1 } END { print rows }&#39;</span>
</code></pre></div>
<p>通过 <code>xargs</code> 接收列表并转换为参数（arguments）
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a>username@ubuntu:~$ rustup toolchain list <span class="p">|</span> grep nightly <span class="p">|</span> grep -v <span class="s1">&#39;nightly-x86&#39;</span> <span class="p">|</span> grep <span class="m">2019</span> <span class="p">|</span> sed <span class="s1">&#39;s/-x86.*//&#39;</span> <span class="p">|</span> xargs rustup toolchain uninstall
</code></pre></div></p>
<p>打印出来处理后的到的命令
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a>username@ubuntu:~$ rustup toolchain list <span class="p">|</span> grep nightly <span class="p">|</span> grep -v <span class="s1">&#39;nightly-x86&#39;</span> <span class="p">|</span> grep <span class="m">2019</span> <span class="p">|</span> sed <span class="s1">&#39;s/-x86.*//&#39;</span> <span class="p">|</span> xargs <span class="nb">echo</span> rustup toolchain uninstall 
</code></pre></div></p>
<p>通过 <code>bc</code> (Berkeley Calculator) 进行计算
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a>username@ubuntu:~$ <span class="nb">echo</span> <span class="s2">&quot;1 + 2&quot;</span> <span class="p">|</span> bc -l
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="m">3</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> awk <span class="s1">&#39;$1 != 1 { print $1 }&#39;</span> <span class="p">|</span> paste -sd+ <span class="p">|</span> bc -l
</code></pre></div>
<p>通过 R 语言进行计算
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> awk <span class="s1">&#39;$1 != 1 { print $1 }&#39;</span> <span class="p">|</span> R --slave -e <span class="s1">&#39;x &lt;- scan(file=&quot;stdin&quot;, quiet=TRUE); summary(x)&#39;</span>
</code></pre></div></p>
<p>通过 <code>gnuplot</code> 绘图</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a>username@ubuntu:~$ cat ssh.log <span class="p">|</span> sed -E <span class="s1">&#39;s/^.*Disconnected from (invalid )?user (.*) [0-9.]+ port [0-9]+$/\2/&#39;</span> <span class="p">|</span> sort <span class="p">|</span> uniq -c <span class="p">|</span> sort -nk1,1 <span class="p">|</span> tail -n5 <span class="p">|</span> gnuplot -p -e <span class="s1">&#39;set boxwidth 0.5; plot &quot;-&quot; using 1:xtic(2) with boxes&#39;</span>
</code></pre></div>
<h4 id="83">8.3 二进制文件处理</h4>
<p>从视频中提取第一帧，转换为图像，将颜色空间转换为灰色，然后压缩，并通过 <code>ssh</code> 传输到远程机器，在远程机器保存，然后传回来
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a>username@ubuntu:~$ ffmpeg -loglevel panic -i /dev/video0 -frame <span class="m">1</span> -f image2 - <span class="p">|</span> convert - -colorspace gray - <span class="p">|</span> gzip <span class="p">|</span> ssh myserver <span class="s1">&#39;gzip -d | tee copy.png&#39;</span> <span class="p">|</span> feh -
</code></pre></div>
其中，<code>/dev/video0</code> 为摄像头，<code>-</code> 表示标准输出、标准输入</p>
<h2 id="9">9 工具推荐</h2>
<ul>
<li>ripgrep：命令为 <code>rg</code>，可以使用 <code>man rg</code> 查看手册），用于代替 grep</li>
<li>convert</li>
<li>ffmpeg</li>
<li>rldr：为命令提供例子</li>
<li>fdfind</li>
<li>fzf：可以交互式地查找目录、文件或内容</li>
<li>tree：显示目录结构</li>
<li>broot：显示目录结构，同时可以折叠过多的目录或文件、根据输入查找等</li>
<li>nnn：交互式查看目录结构</li>
<li>zsh 对历史字串搜索的实现（如果当前输入的命令和历史记录的前缀相同，则自动提示，敲击右箭头补全）</li>
<li>ack：另一个 grep 的替代品</li>
<li>ag：另一个 grep 的替代品</li>
<li>awk：适用于对列进行操作</li>
<li>bc：Berkeley Calculator</li>
<li>R：适合用于统计计算和绘图的语言和操作环境</li>
<li>gnuplot：根据数据进行绘图</li>
</ul>
<h4 id="91-ripgrep">9.1 <code>ripgrep</code> 示例</h4>
<p>一个简单的示例
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a>username@ubuntu:~/tools$ rg <span class="s2">&quot;Python&quot;</span> -t py .
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a>./test.py
<a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="m">3</span>:print<span class="o">(</span><span class="s2">&quot;This a test Python script.&quot;</span><span class="o">)</span> 
</code></pre></div></p>
<p><code>-C</code> 可以打印指定数量的上下文。例如，<code>-C 5</code>，则一共打印 11 行，需要查找的那一行在最中间
<div class="highlight"><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a>username@ubuntu:~/tools$ rg <span class="s2">&quot;Python&quot;</span> -t py -C <span class="m">5</span> .
<a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a>./test.py
<a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="m">1</span>-#!/usr/bin/env python
<a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="m">2</span>-
<a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="m">3</span>:print<span class="o">(</span><span class="s2">&quot;This a test Python script.&quot;</span><span class="o">)</span>
</code></pre></div></p>
<p><code>-u</code> 表示不忽略隐藏文件，<code>--files-without-match</code> 表示要查找的文件不能符合后面给出的模式
<div class="highlight"><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a>username@ubuntu:~/tools$ rg -u --files-without-match <span class="s2">&quot;^#!&quot;</span> -t py .
<a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a>username@ubuntu:~/tools$ touch test2.py
<a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a>username@ubuntu:~/tools$ rg -u --files-without-match <span class="s2">&quot;^#!&quot;</span> -t py .
<a id="__codelineno-93-4" name="__codelineno-93-4" href="#__codelineno-93-4"></a>./test2.py
</code></pre></div>
注：对 <code>!</code> 转义的时候报错了，暂时不知道原因
<div class="highlight"><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a>username@ubuntu:~/tools$ rg -u --files-without-match <span class="s2">&quot;^#\!&quot;</span> -t py .
<a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a>regex parse error:
<a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a>    ^#<span class="se">\!</span>
<a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a>      ^^
<a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a>error: unrecognized escape sequence
</code></pre></div></p>
<p><code>--status</code> 会令 <code>rg</code> 显示信息
<div class="highlight"><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a>username@ubuntu:~/tools$ rg -u --files-without-match <span class="s2">&quot;^#!&quot;</span> -t py --stats .
<a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a>./test2.py
<a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a>
<a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="m">1</span> matches
<a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="m">1</span> matched lines
<a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a><span class="m">1</span> files contained matches
<a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="m">2</span> files searched
<a id="__codelineno-95-8" name="__codelineno-95-8" href="#__codelineno-95-8"></a><span class="m">0</span> bytes printed
<a id="__codelineno-95-9" name="__codelineno-95-9" href="#__codelineno-95-9"></a><span class="m">59</span> bytes searched
<a id="__codelineno-95-10" name="__codelineno-95-10" href="#__codelineno-95-10"></a><span class="m">0</span>.000019 seconds spent searching
<a id="__codelineno-95-11" name="__codelineno-95-11" href="#__codelineno-95-11"></a><span class="m">0</span>.002911 seconds
</code></pre></div></p>
<h4 id="92-fzf">9.2 <code>fzf</code> 示例</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a>username@ubuntu:~/tools$ fzf
<a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a>（由于是交互式的，这里就不展示打印的内容了）
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a>username@ubuntu:~/tools$ cat test.py <span class="p">|</span> fzf
<a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a>（由于是交互式的，这里就不展示打印的内容了）
</code></pre></div>
<p>注：
(1) 在使用 fzf 之前，在 terminal 粘贴了命令
<div class="highlight"><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a>username@ubuntu:~/tools$ <span class="o">[</span> -f ~/.fzf.zsh <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">source</span> ~/.fzf.zsh
</code></pre></div>
暂未知道其意义，在执行上述 <code>fzf</code> 命令之前未执行这个命令，上述 <code>fzf</code> 命令也正常运行了</p>
<p>(2) 提到了将 <code>Ctrl + R</code> 和 fzf 绑定，但是我没有理解如何实现</p>
<h4 id="93-tree">9.3 <code>tree</code> 示例</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a>username@ubuntu:~/tools$ tree .
<a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a>.
<a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a>├── test1
<a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a>├── test2
<a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a>│   └── test3
<a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a>├── test2.py
<a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a>└── test.py
<a id="__codelineno-99-8" name="__codelineno-99-8" href="#__codelineno-99-8"></a>
<a id="__codelineno-99-9" name="__codelineno-99-9" href="#__codelineno-99-9"></a><span class="m">3</span> directories, <span class="m">2</span> files
<a id="__codelineno-99-10" name="__codelineno-99-10" href="#__codelineno-99-10"></a>username@ubuntu:~/tools$ <span class="nb">cd</span> ../
<a id="__codelineno-99-11" name="__codelineno-99-11" href="#__codelineno-99-11"></a>username@ubuntu:~$ tree tools
<a id="__codelineno-99-12" name="__codelineno-99-12" href="#__codelineno-99-12"></a>tools
<a id="__codelineno-99-13" name="__codelineno-99-13" href="#__codelineno-99-13"></a>├── test1
<a id="__codelineno-99-14" name="__codelineno-99-14" href="#__codelineno-99-14"></a>├── test2
<a id="__codelineno-99-15" name="__codelineno-99-15" href="#__codelineno-99-15"></a>│   └── test3
<a id="__codelineno-99-16" name="__codelineno-99-16" href="#__codelineno-99-16"></a>├── test2.py
<a id="__codelineno-99-17" name="__codelineno-99-17" href="#__codelineno-99-17"></a>└── test.py
<a id="__codelineno-99-18" name="__codelineno-99-18" href="#__codelineno-99-18"></a>
<a id="__codelineno-99-19" name="__codelineno-99-19" href="#__codelineno-99-19"></a><span class="m">3</span> directories, <span class="m">2</span> files
</code></pre></div>
<h2 id="_1">参考</h2>
<ul>
<li><a href="https://missing.csail.mit.edu/2020/course-shell/">MIT-Missing-Semester</a></li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Git%E4%B8%8EGitHub/1_%E4%B8%8A%E4%BC%A0%E6%AD%A4%E5%8D%9A%E5%AE%A2%E5%88%B0GitHub/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 1 上传此博客到 GitHub" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              1 上传此博客到 GitHub
            </div>
          </div>
        </a>
      
      
        
        <a href="../%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%8E%AF%E5%A2%83/" class="md-footer__link md-footer__link--next" aria-label="Next: 命令行环境" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              命令行环境
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/FIN-Warrah/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.39f04ddb.min.js"></script>
      
    
  </body>
</html>